<!DOCYPE html>
<html>

<head>
    <title>kyu! kyu! kyu!</title>
    <script src="https://unpkg.com/react@15.3.2/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15.3.2/dist/react-dom.js"></script>
    <script src="https://cdnjs.Cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
</head>

<body>
    <div id="container"></div>
    <script type="text/babel">

        var destination = document.querySelector("#container");


        
        var Colorizer = React.createClass({     
            getInitialState: function() {
                return {
                    color: '',
                    bgColor: ''
                }
            },
            colorValue: function(e) {
                this.setState({color: e.target.value});
            },
            setNewColor: function(e) {
                this.setState({bgColor: this.staet.color});
                this._input.value="";
                this._input.focus();

                e.preventDefault();
            },
            render: function() {
                var squareStyle = {
                        backgroundColor: this.state.bgColor
                    };

                    var self = this; //콜백함수가 아닌 컴포넌트를 참조함

                    return (
                        <div className="colorArea">
                            <div style={squareStyle} className="colorSquare"></div>

                            <form onSubmit={this.setNewColor}>
                                <input
                                 ref = {  //여기를 주의
                                     function(el) { //컴포넌트 안에서 어디서든 this._input 접근가능
                                         self._input = el;
                                     }
                                    }
                                    onChange={this.colorValue}
                                    placeholder="Enter a color value">
                                </input>
                                <button type="submit">go</button>
                            </form>
                        </div>
                                
                    );
                }
            });

        ReactDOM.render(
            <div>
                <Colorizer/>
            </div>,
            destination
        );
    </script>
</body>
</html>
